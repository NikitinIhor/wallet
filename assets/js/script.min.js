const walletClosed=document.querySelector(".wallet-closed img"),walletOpened=document.querySelector(".wallet-opened"),walletBox=document.querySelector(".wallet-box"),walletCloseBtn=document.querySelector(".wallet-close-btn"),moneyBody=document.querySelector(".money-body"),myCash=document.querySelector(".my-cash"),page=document.querySelector(".page"),income=document.querySelector(".income"),expense=document.querySelector(".expense"),addTransaction=document.querySelector(".add"),clearAllTransactions=document.querySelector(".delete"),popupSave=document.querySelector(".popup-save"),popupClose=document.querySelector(".popup-close"),popup=document.querySelector(".popup"),popupTitle=document.querySelector("#title"),popupSum=document.querySelector("#sum"),popupCategory=document.querySelector("#category"),errorTitle=document.querySelector(".error-title"),errorSum=document.querySelector(".error-sum"),errorCategory=document.querySelector(".error-category"),deleteTransaction=document.querySelector(".transaction-delete"),exchangeRate=document.querySelector(".exchange-rate"),exchangeBody=document.querySelector(".exchange-body"),exchangeBtnOpen=document.querySelector(".exchange-button-open"),exchangeBtnClose=document.querySelector(".exchange-button-close");let myInterval,ID=0,transactionIcon,selectedIcon,moneyArr=[0];exchangeBtnOpen.addEventListener("click",()=>{exchangeRate.classList.add("exchange-open"),exchangeBody.classList.add("show-background-color"),exchangeBtnOpen.style.opacity="0",exchangeBtnClose.style.opacity="1"}),exchangeBtnClose.addEventListener("click",()=>{exchangeRate.classList.remove("exchange-open"),exchangeBody.classList.remove("show-background-color"),exchangeBtnOpen.style.opacity="1",exchangeBtnClose.style.opacity="0"}),walletClosed.addEventListener("click",()=>{walletClosed.classList.add("close"),walletOpened.classList.add("open"),setTimeout(walletMove,1e3),setTimeout(openWalletBox,3300),myInterval=setInterval(moneyFall,100)});const walletMove=()=>{walletOpened.classList.add("move-left")},openWalletBox=()=>{walletBox.style.display="flex",walletCloseBtn.style.display="block",exchangeBtnOpen.style.display="block",exchangeBtnClose.style.display="block",clearInterval(myInterval)},moneyFall=(walletCloseBtn.addEventListener("click",()=>{walletCloseBtn.style.display="none",walletBox.style.display="none",walletOpened.classList.remove("move-left"),walletOpened.classList.remove("open"),walletClosed.classList.remove("close"),exchangeRate.classList.remove("exchange-open"),exchangeBody.classList.remove("show-background-color"),exchangeBtnOpen.style.display="none",exchangeBtnClose.style.display="none",exchangeBtnOpen.style.opacity="1",exchangeBtnClose.style.opacity="0"}),()=>{var e=document.createElement("money-item");e.classList.add("money"),e.textContent="ðŸ’µ",document.body.append(e),e.style.left=Math.random()*window.innerWidth+"px",e.style.animationDuration=5*Math.random()+3+"s"}),checkForm=(addTransaction.addEventListener("click",()=>{popup.style.display="grid"}),popupClose.addEventListener("click",()=>{popup.style.display="none",exchangeRate.classList.add("exchange-open")}),()=>{var e=document.createElement("div");e.classList.add("transaction"),e.setAttribute("id",ID),newTransactionIcon(selectedIcon),e.innerHTML=`
    <div class="transaction-name">${transactionIcon} ${popupTitle.value}</div>
    <div class="transaction-result">
    <div class="transaction-amount">${popupSum.value}$</div>
    <button class="transaction-delete" onclick="transactionToDelete(${ID})">x</button>
    `,0<popupSum.value&&income.appendChild(e)&&e.classList.add("1"),popupSum.value<0&&expense.appendChild(e)&&e.classList.add("2"),moneyArr.push(parseFloat(popupSum.value)),moneyCount(moneyArr),popup.style.display="none",exchangeBody.style.display="block",clear(),ID++}),transactionToDelete=e=>{e=document.getElementById(e),(e.classList.contains("2")?expense:income).removeChild(e),e=parseFloat(e.childNodes[3].innerText),e=moneyArr.indexOf(e);moneyArr.splice(e,1),moneyCount(moneyArr)},moneyCount=e=>{e=e.reduce((e,t)=>e+t);myCash.textContent=e+" $"},clear=()=>{popupSum.value="",popupTitle.value="",popupCategory.selectedIndex=0},selectedIcons=()=>{selectedIcon=category.options[category.selectedIndex].text},newTransactionIcon=e=>{switch(e){case"[ + ] income":transactionIcon='<i class="fa-solid fa-money-bill"></i>';break;case"[ - ] shopping":transactionIcon='<i class="fa-solid fa-cart-shopping"></i>';break;case"[ - ] cinema":transactionIcon='<i class="fa-solid fa-film"></i>';break;case"[ - ] food":transactionIcon='<i class="fa-solid fa-bowl-food"></i>'}};popupSave.addEventListener("click",()=>{""!==popupTitle.value?errorTitle.style.visibility="hidden":errorTitle.style.visibility="visible",""!==popupSum.value?errorSum.style.visibility="hidden":errorSum.style.visibility="visible","none"!==popupCategory.value?errorCategory.style.visibility="hidden":errorCategory.style.visibility="visible",""!==popupTitle.value&&""!==popupSum.value&&"none"!==popupCategory.value&&checkForm()}),clearAllTransactions.addEventListener("click",()=>{income.innerHTML='<h3 class="income-title">income:</h3>',expense.innerHTML='<h3 class="expense-title">expense:</h3>',moneyArr=[0],myCash.textContent="0 $"});